import React, { useState, useEffect, useRef } from "react";
import "./benefits.css";
import movistarLogo from "../../media/movistar.png";
import houseLogo from "../../media/house.png";
import cabifyLogo from "../../media/cabify.png";
import lippiLogo from "../../media/lippi.png";
import hakaLogo from "../../media/haka.png";
import rappiLogo from "../../media/movistar.png";
import nikLogo from "../../media/nik.png";
import donutsLogo from "../../media/donuts.png";
import { Icon } from "@iconify/react";
import bxMap from "@iconify-icons/bx/bx-map";
import BenefitsCar from "./BenefitsCar";

const Benefits = () => {
  let [catalogue, setCatalogue] = useState([]);
  let [catalogueFilter, setCatalogueFilter] = useState([]);

  useEffect(() => {
    fetch("products.json")
      .then((response) => response.json())
      .then((data) => {
        setCatalogue(data);
        setCatalogueFilter(data);
      });
  }, []);

  const filterData = (e) => {
    if (e.target.value === "") {
      setCatalogueFilter((catalogueFilter = catalogue));
    } else {
      const newCatalogueC = catalogue.filter(
        (item) => item.category === e.target.value
      );
      setCatalogueFilter((catalogueFilter = newCatalogueC));
    }
  };

  return (
    <div className="container">
      <div className="header">
        <div>
          <svg
            width="375"
            height="44"
            viewBox="0 0 375 44"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g clip-path="url(#clip0)">
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M339.589 17.16H354.411C355.659 17.16 356.111 17.2899 356.568 17.534C357.024 17.778 357.382 18.1361 357.626 18.5924C357.87 19.0487 358 19.5013 358 20.7494V25.0705C358 26.3187 357.87 26.7713 357.626 27.2276C357.382 27.6839 357.024 28.042 356.568 28.286C356.111 28.53 355.659 28.66 354.411 28.66H339.589C338.341 28.66 337.889 28.53 337.432 28.286C336.976 28.042 336.618 27.6839 336.374 27.2276C336.13 26.7713 336 26.3187 336 25.0705V20.7494C336 19.5013 336.13 19.0487 336.374 18.5924C336.618 18.1361 336.976 17.778 337.432 17.534C337.889 17.2899 338.341 17.16 339.589 17.16ZM339.589 18.16C338.602 18.16 338.258 18.2265 337.904 18.4158C337.622 18.5666 337.407 18.782 337.256 19.064C337.067 19.4179 337 19.7624 337 20.7494V25.0705C337 26.0575 337.067 26.4021 337.256 26.756C337.407 27.038 337.622 27.2533 337.904 27.4042C338.258 27.5934 338.602 27.66 339.589 27.66H354.411C355.398 27.66 355.742 27.5934 356.096 27.4042C356.378 27.2533 356.593 27.038 356.744 26.756C356.933 26.4021 357 26.0575 357 25.0705V20.7494C357 19.7624 356.933 19.4179 356.744 19.064C356.593 18.782 356.378 18.5666 356.096 18.4158C355.742 18.2265 355.398 18.16 354.411 18.16H339.589ZM360.5 22.85C360.5 24.0865 359 24.85 359 24.85V20.85C359 20.85 360.5 21.6134 360.5 22.85Z"
                fill="#F6F6F6"
              />
              <rect
                x="338"
                y="19.0767"
                width="18"
                height="7.66667"
                rx="1.6"
                fill="#F6F6F6"
              />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M307.623 18.5659C307.6 18.6818 307.6 18.8212 307.6 19.1V26.8C307.6 27.0788 307.6 27.2182 307.623 27.3341C307.718 27.8101 308.09 28.1822 308.566 28.2769C308.682 28.3 308.821 28.3 309.1 28.3C309.379 28.3 309.518 28.3 309.634 28.2769C310.11 28.1822 310.482 27.8101 310.577 27.3341C310.6 27.2182 310.6 27.0788 310.6 26.8V19.1C310.6 18.8212 310.6 18.6818 310.577 18.5659C310.482 18.0898 310.11 17.7177 309.634 17.623C309.518 17.6 309.379 17.6 309.1 17.6C308.821 17.6 308.682 17.6 308.566 17.623C308.09 17.7177 307.718 18.0898 307.623 18.5659ZM302.9 21.5C302.9 21.2212 302.9 21.0818 302.923 20.9659C303.018 20.4898 303.39 20.1177 303.866 20.023C303.982 20 304.121 20 304.4 20C304.679 20 304.818 20 304.934 20.023C305.41 20.1177 305.782 20.4898 305.877 20.9659C305.9 21.0818 305.9 21.2212 305.9 21.5V26.8C305.9 27.0788 305.9 27.2182 305.877 27.3341C305.782 27.8101 305.41 28.1822 304.934 28.2769C304.818 28.3 304.679 28.3 304.4 28.3C304.121 28.3 303.982 28.3 303.866 28.2769C303.39 28.1822 303.018 27.8101 302.923 27.3341C302.9 27.2182 302.9 27.0788 302.9 26.8V21.5ZM298.323 23.2659C298.3 23.3818 298.3 23.5212 298.3 23.8V26.8C298.3 27.0788 298.3 27.2182 298.323 27.3341C298.418 27.8101 298.79 28.1822 299.266 28.2769C299.382 28.3 299.521 28.3 299.8 28.3C300.079 28.3 300.218 28.3 300.334 28.2769C300.81 28.1822 301.182 27.8101 301.277 27.3341C301.3 27.2182 301.3 27.0788 301.3 26.8V23.8C301.3 23.5212 301.3 23.3818 301.277 23.2659C301.182 22.7898 300.81 22.4177 300.334 22.323C300.218 22.3 300.079 22.3 299.8 22.3C299.521 22.3 299.382 22.3 299.266 22.323C298.79 22.4177 298.418 22.7898 298.323 23.2659ZM293.523 25.2659C293.5 25.3818 293.5 25.5212 293.5 25.8V26.8C293.5 27.0788 293.5 27.2182 293.523 27.3341C293.618 27.8101 293.99 28.1822 294.466 28.2769C294.582 28.3 294.721 28.3 295 28.3C295.279 28.3 295.418 28.3 295.534 28.2769C296.01 28.1822 296.382 27.8101 296.477 27.3341C296.5 27.2182 296.5 27.0788 296.5 26.8V25.8C296.5 25.5212 296.5 25.3818 296.477 25.2659C296.382 24.7898 296.01 24.4177 295.534 24.323C295.418 24.3 295.279 24.3 295 24.3C294.721 24.3 294.582 24.3 294.466 24.323C293.99 24.4177 293.618 24.7898 293.523 25.2659Z"
                fill="#F6F6F6"
              />
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M323.301 19.6963C325.535 19.6964 327.684 20.555 329.303 22.0945C329.425 22.2134 329.62 22.2119 329.74 22.0912L330.906 20.9148C330.967 20.8535 331.001 20.7706 331 20.6843C331 20.598 330.965 20.5155 330.903 20.4549C326.653 16.3816 319.947 16.3816 315.697 20.4549C315.636 20.5154 315.601 20.5979 315.6 20.6842C315.6 20.7705 315.633 20.8535 315.694 20.9148L316.86 22.0912C316.98 22.2121 317.175 22.2136 317.297 22.0945C318.917 20.5549 321.066 19.6963 323.301 19.6963ZM323.301 23.5237C324.528 23.5236 325.712 23.9799 326.622 24.804C326.745 24.9209 326.939 24.9184 327.059 24.7983L328.223 23.6219C328.285 23.5602 328.319 23.4764 328.318 23.3895C328.317 23.3025 328.281 23.2195 328.219 23.159C325.447 20.5813 321.156 20.5813 318.385 23.159C318.322 23.2195 318.286 23.3025 318.286 23.3895C318.285 23.4765 318.319 23.5602 318.38 23.6219L319.544 24.7983C319.664 24.9184 319.858 24.9209 319.981 24.804C320.891 23.9805 322.074 23.5242 323.301 23.5237ZM325.538 26.3313C325.6 26.2702 325.635 26.1861 325.633 26.0989C325.631 26.0116 325.593 25.929 325.529 25.8705C324.242 24.7826 322.359 24.7826 321.072 25.8705C321.008 25.929 320.97 26.0116 320.968 26.0988C320.966 26.186 321 26.2702 321.063 26.3313L323.077 28.3638C323.136 28.4236 323.217 28.4572 323.301 28.4572C323.385 28.4572 323.465 28.4236 323.524 28.3638L325.538 26.3313Z"
                fill="#F6F6F6"
              />
            </g>
            <path
              d="M37.78 23.985C37.78 25.255 37.59 26.355 37.21 27.285C36.83 28.205 36.23 28.915 35.41 29.415C34.59 29.905 33.515 30.15 32.185 30.15C31.965 30.15 31.71 30.145 31.42 30.135C31.13 30.125 30.885 30.105 30.685 30.075V27.78C30.895 27.82 31.105 27.85 31.315 27.87C31.525 27.89 31.77 27.9 32.05 27.9C32.86 27.9 33.485 27.785 33.925 27.555C34.365 27.325 34.675 27.005 34.855 26.595C35.035 26.185 35.14 25.715 35.17 25.185H35.08C34.89 25.545 34.635 25.845 34.315 26.085C33.995 26.315 33.53 26.43 32.92 26.43C32.02 26.43 31.3 26.13 30.76 25.53C30.23 24.92 29.965 24.055 29.965 22.935C29.965 21.745 30.3 20.815 30.97 20.145C31.65 19.475 32.58 19.14 33.76 19.14C34.51 19.14 35.185 19.31 35.785 19.65C36.395 19.99 36.88 20.515 37.24 21.225C37.6 21.935 37.78 22.855 37.78 23.985ZM33.835 21.45C33.495 21.45 33.23 21.565 33.04 21.795C32.86 22.025 32.77 22.395 32.77 22.905C32.77 23.305 32.855 23.625 33.025 23.865C33.205 24.095 33.465 24.21 33.805 24.21C34.125 24.21 34.385 24.085 34.585 23.835C34.795 23.585 34.9 23.32 34.9 23.04C34.9 22.78 34.86 22.53 34.78 22.29C34.71 22.05 34.595 21.85 34.435 21.69C34.285 21.53 34.085 21.45 33.835 21.45ZM38.7541 22.995C38.7541 22.485 38.9041 22.125 39.2041 21.915C39.5141 21.705 39.8841 21.6 40.3141 21.6C40.7241 21.6 41.0741 21.705 41.3641 21.915C41.6641 22.125 41.8141 22.485 41.8141 22.995C41.8141 23.495 41.6641 23.855 41.3641 24.075C41.0741 24.295 40.7241 24.405 40.3141 24.405C39.8841 24.405 39.5141 24.295 39.2041 24.075C38.9041 23.855 38.7541 23.495 38.7541 22.995ZM38.7541 28.785C38.7541 28.265 38.9041 27.9 39.2041 27.69C39.5141 27.48 39.8841 27.375 40.3141 27.375C40.7241 27.375 41.0741 27.48 41.3641 27.69C41.6641 27.9 41.8141 28.265 41.8141 28.785C41.8141 29.275 41.6641 29.63 41.3641 29.85C41.0741 30.07 40.7241 30.18 40.3141 30.18C39.8841 30.18 39.5141 30.07 39.2041 29.85C38.9041 29.63 38.7541 29.275 38.7541 28.785ZM50.86 27.93H49.675V30H46.825V27.93H42.55V25.8L47.005 19.29H49.675V25.77H50.86V27.93ZM46.825 24.525C46.825 24.375 46.83 24.18 46.84 23.94C46.85 23.69 46.86 23.465 46.87 23.265C46.88 23.065 46.885 22.96 46.885 22.95H46.81C46.71 23.17 46.62 23.35 46.54 23.49C46.47 23.63 46.37 23.8 46.24 24L45.055 25.77H46.825V24.525ZM57.8191 30H54.8791V24.705C54.8791 24.605 54.8791 24.425 54.8791 24.165C54.8791 23.905 54.8841 23.615 54.8941 23.295C54.9041 22.975 54.9141 22.69 54.9241 22.44C54.7941 22.59 54.6741 22.72 54.5641 22.83C54.4641 22.94 54.3591 23.04 54.2491 23.13L53.0341 24.135L51.5341 22.29L55.2091 19.29H57.8191V30Z"
              fill="#F6F6F6"
            />
            <defs>
              <clipPath id="clip0">
                <rect
                  width="68"
                  height="13"
                  fill="white"
                  transform="translate(293.5 16.6)"
                />
              </clipPath>
            </defs>
          </svg>
        </div>
        <div className="title">
          <div>
            <svg
              width="7"
              height="12"
              viewBox="0 0 7 12"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M6.70697 11.707C6.51944 11.8944 6.26513 11.9998 5.99997 11.9998C5.73481 11.9998 5.4805 11.8944 5.29297 11.707L0.29297 6.70697C0.105499 6.51944 0.000183105 6.26513 0.000183105 5.99997C0.000183105 5.73481 0.105499 5.4805 0.29297 5.29297L5.29297 0.292969C5.48157 0.11081 5.73417 0.0100164 5.99637 0.0122948C6.25857 0.0145731 6.50938 0.119743 6.69479 0.305151C6.8802 0.490559 6.98536 0.741372 6.98764 1.00357C6.98992 1.26577 6.88913 1.51837 6.70697 1.70697L2.41397 5.99997L6.70697 10.293C6.89444 10.4805 6.99976 10.7348 6.99976 11C6.99976 11.2651 6.89444 11.5194 6.70697 11.707Z"
                fill="#F5EEFF"
              />
            </svg>
          </div>
          <div></div>
          <p>
            <strong>Buscar Beneficios</strong>
          </p>
          <div></div>
          <div>
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M5.07306 8.00099C6.05531 6.29517 7.63198 5.01135 9.50145 4.39514C11.3709 3.77892 13.402 3.87357 15.206 4.66098C17.0101 5.44838 18.4605 6.87327 19.2799 8.66305C20.0992 10.4528 20.2299 12.4819 19.6471 14.362C19.5743 14.6136 19.6031 14.8837 19.7274 15.1143C19.8516 15.3449 20.0614 15.5175 20.3116 15.5951C20.5618 15.6726 20.8324 15.6489 21.0653 15.529C21.2982 15.4091 21.4748 15.2027 21.5571 14.954C22.9091 10.592 21.1241 5.72099 17.0011 3.34099C12.2181 0.579994 6.10306 2.21999 3.34106 7.00099C0.580064 11.784 2.21806 17.901 7.00106 20.661C11.1241 23.041 16.2351 22.153 19.3361 18.801C19.43 18.7056 19.5038 18.5922 19.5531 18.4678C19.6024 18.3433 19.6262 18.2101 19.6231 18.0763C19.62 17.9424 19.59 17.8105 19.535 17.6885C19.4799 17.5664 19.4009 17.4566 19.3027 17.3657C19.2044 17.2747 19.0889 17.2044 18.9629 17.159C18.837 17.1135 18.7032 17.0938 18.5695 17.101C18.4358 17.1082 18.3049 17.1422 18.1846 17.2009C18.0643 17.2597 17.957 17.342 17.8691 17.443C16.532 18.887 14.7097 19.7876 12.7505 19.9724C10.7912 20.1573 8.83257 19.6135 7.24904 18.4451C5.66552 17.2767 4.56822 15.5656 4.16697 13.639C3.76571 11.7124 4.08866 9.70545 5.07406 8.00199L5.07306 8.00099ZM11.9861 8.00099C10.9721 8.00099 10.1311 8.75099 9.99206 9.72799C9.9544 9.99056 9.81398 10.2274 9.60169 10.3864C9.3894 10.5455 9.12263 10.6137 8.86006 10.576C8.5975 10.5383 8.36065 10.3979 8.20162 10.1856C8.04259 9.97333 7.9744 9.70656 8.01206 9.44399C8.11565 8.72444 8.4126 8.0465 8.87125 7.48248C9.32991 6.91846 9.93305 6.48951 10.6164 6.24139C11.2997 5.99326 12.0375 5.93527 12.7512 6.07359C13.4649 6.21191 14.1277 6.54136 14.6688 7.0268C15.2099 7.51223 15.6092 8.13545 15.8239 8.82998C16.0386 9.52451 16.0608 10.2643 15.8881 10.9705C15.7153 11.6766 15.3542 12.3226 14.8431 12.8396C14.332 13.3566 13.6902 13.7252 12.9861 13.906V14.001C12.9861 14.2662 12.8807 14.5206 12.6932 14.7081C12.5056 14.8956 12.2513 15.001 11.9861 15.001C11.7208 15.001 11.4665 14.8956 11.279 14.7081C11.0914 14.5206 10.9861 14.2662 10.9861 14.001V13.032C10.9861 12.7668 11.0914 12.5124 11.279 12.3249C11.4665 12.1374 11.7208 12.032 11.9861 12.032C12.5205 12.032 13.033 11.8197 13.4109 11.4418C13.7888 11.0639 14.0011 10.5514 14.0011 10.017C14.0011 9.48258 13.7888 8.97006 13.4109 8.59217C13.033 8.21429 12.5205 8.00199 11.9861 8.00199V8.00099ZM13.0011 17.001C13.0011 17.2662 12.8957 17.5206 12.7082 17.7081C12.5206 17.8956 12.2663 18.001 12.0011 18.001C11.7358 18.001 11.4815 17.8956 11.294 17.7081C11.1064 17.5206 11.0011 17.2662 11.0011 17.001C11.0011 16.7358 11.1064 16.4814 11.294 16.2939C11.4815 16.1064 11.7358 16.001 12.0011 16.001C12.2663 16.001 12.5206 16.1064 12.7082 16.2939C12.8957 16.4814 13.0011 16.7358 13.0011 17.001Z"
                fill="#F5EEFF"
              />
            </svg>
          </div>
        </div>
      </div>
      <div className="container-benefits">
        <button>
          <Icon icon={bxMap} />
          Buscar descuentos cercanos
        </button>
        <select defaultValue="" onChange={filterData}>
          <option value="">Todas las categorías</option>
          <option value="Tecnología">Tecnología</option>
          <option value="Gastronomía">Gastronomía</option>
          <option value="Vestuario">Vestuario</option>
          <option value="Entretenimiento">Entretenimiento</option>
          <option value="Servicios">Servicios</option>
        </select>

        <BenefitsCar products={catalogueFilter} key="list" />
      </div>
    </div>
  );
};

export default Benefits;
